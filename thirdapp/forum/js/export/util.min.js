!function t(e, n, i) {
    function r(s, o) {
        if (!n[s]) {
            if (!e[s]) {
                var c = "function" == typeof require && require;
                if (!o && c)
                    return c(s, !0);
                if (a)
                    return a(s, !0);
                throw new Error("Cannot find module '" + s + "'")
            }
            var u = n[s] = {
                exports: {}
            };
            e[s][0].call(u.exports, function(t) {
                var n = e[s][1][t];
                return r(n ? n : t)
            }, u, u.exports, t, e, n, i)
        }
        return n[s].exports
    }
    for (var a = "function" == typeof require && require, s = 0; s < i.length; s++)
        r(i[s]);
    return r
}({
    1: [function(t) {
        var e = t("../../../../widget/utils").utils
          , n = t("../../../../widget/phiz").phiz;
        Tribe.util = {
            getRequest: function() {
                var t = window.location.search
                  , e = new Object;
                if (-1 != t.indexOf("?")) {
                    var n = t.substr(1);
                    strs = n.split("&");
                    for (var i = 0; i < strs.length; i++)
                        e[strs[i].split("=")[0]] = decodeURIComponent(strs[i].split("=")[1])
                }
                return e
            },
            is_weixin: function() {
                var t = navigator.userAgent.toLowerCase();
                return "micromessenger" == t.match(/MicroMessenger/i) ? !0 : !1
            },
            is_yzj: function() {
                var t = navigator.userAgent.toLowerCase();
                return "qing" == t.match(/qing/i) ? !0 : !1
            },
            getOS: function() {
                var t = navigator.userAgent;
                return t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/) ? "ios" : t.match(/Android/i) ? "android" : ""
            },
            PCTaptoClick: function(t, e) {
                !this.getOS() && this.is_weixin() ? t.on("click", e) : t.on("tap", e)
            },
            PCTaptoClickDynamic: function(t, e, n) {
                !this.getOS() && this.is_weixin() ? t.on("click", e, n) : t.on("tap", e, n)
            },
            unique: function(t) {
                for (var e = [], n = {}, i = 0; i < t.length; i++) {
                    var r = t[i].msgId;
                    n[r] || (n[r] = !0,
                    e.push(t[i]))
                }
                return e
            },
            pointTips: function(t, e, n) {
                var i, r, a = $(window).height();
                if (clearTimeout(i),
                "sub" == e) {
                    if ($(".pointTipsSub").length > 0)
                        $(".pointTipsSub").html("<span>" + t + "</span>").css("visibility", "visible").addClass("show-anmation"),
                        $(".pointTipsSub").css("top", a / 2 + "px");
                    else {
                        var s = '<div class="pointTips pointTipsSub"><span>' + t + "</span></div>";
                        $("body").append(s),
                        $(".pointTipsSub").css("top", a / 2 + "px"),
                        r = $(".pointTipsSub").width(),
                        n = n ? n : r,
                        $(".pointTipsSub").css({
                            "margin-left": "-" + n / 2 + "px",
                            width: n,
                            visibility: "visible"
                        }).addClass("show-anmation")
                    }
                    i = setTimeout(function() {
                        $(".pointTipsSub").css("visibility", "hidden").removeClass("show-anmation")
                    }, 1100)
                } else {
                    if ($(".pointTipsAdd").length > 0)
                        $(".pointTipsAdd").html("<span>" + t + "</span>").css("visibility", "visible").addClass("show-anmation"),
                        $(".pointTipsAdd").css("top", a / 2 + "px");
                    else {
                        var s = '<div class="pointTips pointTipsAdd"><span>' + t + "</span></div>";
                        $("body").append(s),
                        $(".pointTipsAdd").css("top", a / 2 + "px"),
                        r = $(".pointTipsAdd").width(),
                        n = n ? n : r,
                        $(".pointTipsAdd").css({
                            "margin-left": "-" + n / 2 + "px",
                            width: n,
                            visibility: "visible"
                        }).addClass("show-anmation")
                    }
                    i = setTimeout(function() {
                        $(".pointTipsAdd").css("visibility", "hidden").removeClass("show-anmation")
                    }, 1100)
                }
            },
            tips: function(t, e, n) {
                var i, r;
                if (clearTimeout(i),
                $(".tips").length > 0)
                    $(".tips").html(t).css("visibility", "visible");
                else {
                    var a = '<div class="tips">' + t + "</div>";
                    $("body").append(a),
                    r = $(".tips").width(),
                    n = n ? n : r,
                    $(".tips").css({
                        "margin-left": "-" + n / 2 + "px",
                        width: n,
                        visibility: "visible"
                    })
                }
                var e = e || 2e3;
                i = setTimeout(function() {
                    $(".tips").css("visibility", "hidden")
                }, e)
            },
            confirm: function(t) {
                if ($(".confirm").length > 0)
                    $(".confirm .a-y-s-d-title").text(t.title ? t.title : ""),
                    $(".confirm .a-y-s-d-content").text(t.content ? t.content : ""),
                    $(".confirm .btn-continue").text(t.continueName ? t.continueName : "确定"),
                    $(".confirm .btn-cancel").text(t.cancelName ? t.cancelName : "取消");
                else {
                    t.title = t.title ? t.title : "",
                    t.continueName = t.continueName ? t.continueName : "确定",
                    t.cancelName = t.cancelName ? t.cancelName : "取消",
                    t.content = t.content ? t.content : "";
                    var e = '<div class="confirm-bg none" style="height:' + this.mask() + 'px;"></div><div class="confirm none" style="width: ' + t.width + "px; margin-left: -" + t.width / 2 + 'px;z-index:999;"><p class="a-y-s-d"><span class="a-y-s-d-title">' + t.title + '</span><span class="a-y-s-d-content">' + t.content + '</span></p><div class="y-n"></div></div>'
                      , n = '<span class="btn-continue btn">' + t.continueName + "</span>"
                      , i = '<span class="btn-cancel jj btn">' + t.cancelName + "</span>";
                    $("body").append(e);
                    var r = $(".y-n");
                    t.hideCancelBtn ? r.append(n) : (r.append(n),
                    r.append(i))
                }
                $(".confirm").show(),
                $(".confirm-bg").show().css("opacity", "0.3"),
                $(".btn-continue").unbind("click").on("click", function() {
                    "function" == typeof t.continue && t.continue(),
                    $(".confirm, .confirm-bg").hide()
                }),
                $(".btn-cancel").unbind("click").on("click", function() {
                    "function" == typeof t.cancel && t.cancel(),
                    $(".confirm, .confirm-bg").hide()
                })
            },
            mask: function() {
                var t = $(window).height()
                  , e = $(document).height();
                return e > t ? e : t
            },
            generateStr: function(t) {
                for (var e = "abcdefghijklmnopqrstuvwxyz1234567890", n = "", i = 0; t > i; i++)
                    n += e[parseInt(Math.random() * e.length)];
                return n
            },
            cookie: function(t, e, n) {
                function i(t, e, n) {
                    var i = $.extend({}, a, n);
                    (null === e || void 0 === e) && (e = "",
                    i["max-age"] = 0,
                    i.expires = new Date((new Date).getTime() - 1e3));
                    var r = t + "=" + encodeURIComponent(e);
                    i.expires && i.expires.toUTCString && (r += "; expires=" + i.expires.toUTCString()),
                    i["max-age"] && "number" == typeof i["max-age"] && (r += "; max-age=" + i["max-age"]),
                    i.path && (r += "; path=" + i.path),
                    i.domain && (r += "; domain=" + i.domain),
                    i.secure && (r += "; secure"),
                    document.cookie = r
                }
                function r(t) {
                    for (var e = document.cookie.split(";"), n = 0; n < e.length; ++n) {
                        var i = $.trim(e[n]);
                        if (i.substring(0, t.length + 1) == t + "=")
                            return decodeURIComponent(i.substring(t.length + 1))
                    }
                    return null
                }
                var a = {
                    "max-age": 1800,
                    path: "/"
                };
                return arguments.length > 1 ? void i(t, e, n) : r(t)
            },
            getCaret: function(t) {
                var e = {
                    text: "",
                    start: 0,
                    end: 0
                };
                if (t.setSelectionRange)
                    e.start = t.selectionStart,
                    e.end = t.selectionEnd,
                    e.text = e.start != e.end ? t.value.substring(e.start, e.end) : "";
                else if (document.selection)
                    try {
                        var n, i = document.selection.createRange(), r = document.body.createTextRange();
                        for (r.moveToElementText(t),
                        e.text = i.text,
                        n = 0; r.compareEndPoints("StartToStart", i) < 0 && 0 !== i.moveStart("character", -1); n++)
                            "\r" == t.value.charAt(n) && n++;
                        e.start = n,
                        e.end = e.text.length + e.start
                    } catch (a) {}
                return e
            },
            setCaret: function(t, e) {
                var n;
                t.focus();
                try {
                    t.setSelectionRange ? t.setSelectionRange(e.start, e.end) : t.createTextRange && (n = t.createTextRange(),
                    n.collapse(!0),
                    n.moveStart("character", e.start),
                    n.moveEnd("character", e.end - e.start),
                    n.select())
                } catch (i) {}
            },
            insert: function(t, e, n) {
                var i, r, a, s, o, c;
                this.setCaret(t, e),
                t.setSelectionRange ? (i = t.value,
                r = i.substring(0, e.start) + n + i.substring(e.end),
                s = o = e.start + n.length,
                c = t.scrollTop,
                t.value = r,
                t.scrollTop != c && (t.scrollTop = c),
                t.setSelectionRange(s, o)) : t.createTextRange && (a = document.selection.createRange(),
                a.text = n,
                a.setEndPoint("StartToEnd", a),
                a.select())
            },
            storage: {
                set: function(t, e) {
                    t && e && ("object" == typeof e && (e = JSON.stringify(e)),
                    localStorage.setItem(t, e))
                },
                get: function(t) {
                    var e = localStorage.getItem(t);
                    if (e)
                        return "{" === e[0] && (e = JSON.parse(e)),
                        e
                },
                remove: function(t) {
                    localStorage.removeItem(t)
                },
                clear: function() {
                    localStorage.clear()
                }
            }
        },
        $.extend(Tribe.util, e),
        $.extend(Tribe.util, n)
    }
    , {
        "../../../../widget/phiz": 2,
        "../../../../widget/utils": 3
    }],
    2: [function(t, e, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        {
            var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            }
            : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            }
            ;
            n.phiz = {
                initArr: function() {
                    var t = [["呵呵", "hehe"], ["嘻嘻", "xixi"], ["哈哈", "haha"], ["可爱", "keai"], ["爱你", "aini"], ["亲亲", "qinqin"], ["太开心", "taikaixin"], ["鼓掌", "guzhang"], ["偷笑", "touxiao"], ["做鬼脸", "zuoguilian"], ["害羞", "haixiu"], ["酷", "ku"], ["花心", "huaxin"], ["钱", "qian"], ["吃惊", "chijing"], ["馋嘴", "chanzui"], ["懒得理你", "landelini"], ["思考", "sikao"], ["嘘", "xu"], ["疑问", "yiwen"], ["汗", "han"], ["困", "kun"], ["打哈气", "dahaqi"], ["睡觉", "shuijiao"], ["哼", "heng"], ["闭嘴", "bizui"], ["鄙视", "bishi"], ["顶", "ding"], ["委屈", "weiqu"], ["挖鼻屎", "wabishi"], ["生病", "shengbing"], ["晕", "yun"], ["吐", "tu"], ["失望", "shiwang"], ["可怜", "kelian"], ["泪", "lei"], ["衰", "shuai"], ["抓狂", "zhuakuang"], ["怒骂", "numa"], ["怒", "nu"], ["左哼哼", "zuohengheng"], ["右哼哼", "youhengheng"], ["赞", "zan"], ["弱", "ruo"], ["来", "lai"], ["ok", "ok"], ["不要", "buyao"], ["耶", "ye"], ["握手", "woshou"], ["玫瑰", "rose"], ["心", "xin"], ["伤心", "shangxin"], ["钟", "zhong"], ["太阳", "taiyang"], ["月亮", "yueliang"], ["蛋糕", "dangao"], ["干杯", "ganbei"], ["咖啡", "kafei"], ["猪头", "zhutou"], ["话筒", "huatong"], ["蜡烛", "lazhu"], ["闪电", "shandian"], ["拥抱", "yongbao"], ["吃饭", "chifan"], ["足球", "zuqiu"], ["雨伞", "yusan"], ["棒棒糖", "bangbangtang"], ["气球", "qiqiu"], ["沙发", "shafa"], ["飞机", "feiji"]];
                    this.iconArr = t,
                    this.num = 0
                },
                init: function(t, e) {
                    this.cb = e,
                    this.obj = t,
                    this.elem = t.editorBox,
                    this.left = 0;
                    var n = $("#phizWrapper");
                    if (0 == n.length) {
                        var i = "<div id ='phizWrapper' class='phiz-wrapper'></div>"
                          , r = this.iconList()
                          , a = $(i).append(r);
                        a = $(a).append(this.roundList()),
                        $(a).appendTo(this.obj.wrapper && "undefined" != typeof this.obj.wrapper ? this.obj.wrapper[0] : document.body);
                        var s = $(".phiz-wrapper").css("margin-left");
                        this._margin = s ? parseInt(s.split("px")[0]) : 0;
                        var o = document.body.clientWidth - 2 * this._margin
                          , c = $(".li-wrapper", $(a)).length * o;
                        $(".icon-wrapper", $(a)).css("width", c + "px"),
                        $(".li-wrapper", $(a)).css("width", o + "px"),
                        this.slidePage(),
                        this.clickSlidePage();
                        var u = this
                          , p = navigator.userAgent
                          , l = navigator.userAgent.toLowerCase()
                          , d = p.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/) ? "ios" : p.match(/Android/i) ? "android" : "";
                        "micromessenger" != l.match(/MicroMessenger/i) || d ? $(".icon-wrapper").on("tap", "span", function(t) {
                            t.stopImmediatePropagation(),
                            u.clickItem(u.elem, this)
                        }) : $(".icon-wrapper").on("click", "span", function(t) {
                            t.stopImmediatePropagation(),
                            u.clickItem(u.elem, this)
                        })
                    }
                    $(".icon-wrapper").animate({
                        left: "0px"
                    }),
                    $("li.curr", $(".round-wrapper")).removeClass("curr"),
                    $($(".round-wrapper").children()[0]).addClass("curr"),
                    $("#phizWrapper").show(),
                    $(window).on("popstate", function() {
                        $("#phizWrapper").fadeOut(400),
                        document.documentElement.style.overflow = "auto"
                    })
                },
                iconList: function() {
                    for (var t, e = "<ul id='iconWrapper' class='icon-wrapper'></ul>", n = e, i = 0; i < this.iconArr.length; ) {
                        var r = "<li class='li-wrapper'></li>";
                        t = r;
                        for (var a = i; 21 + i > a && !(a > this.iconArr.length); a++) {
                            var s = "";
                            if ((a + i / 20) % 7 == 0 && (s = "margin-left:1%;"),
                            a == 20 + i || a == this.iconArr.length)
                                var o = "<span  class='delImgBtn'><img src='thirdapp/forum/img/phizImg/btn_delete.png'/></li>";
                            else
                                var c = this.iconArr[a][1] ? this.iconArr[a][1] : ""
                                  , o = "<span style='background-image:url(thirdapp/forum/img/phizImg/" + c + ".png); " + s + " ' class='selectImgBtn' data-url=thirdapp/forum/img/phizImg/"+c+".png  data-index=" + a + "  ></li>";
                            t = $(t).append(o)
                        }
                        n = $(n).append(t),
                        i += 20
                    }
                    return n
                },
                clickItem: function(t, e) {
                    
                    $("<image style='width:30px;height:30px' src='"+$(e).attr("data-url")+"'/>").appendTo(t);
                    // if (void 0 != ("undefined" == typeof t ? "undefined" : i(t)) || void 0 != ("undefined" == typeof e ? "undefined" : i(e))) {
                    //     var t = $(t)
                    //       , e = (t.val(),
                    //     $(e))
                    //       , n = e.attr("data-index") ? e.attr("data-index") : ""
                    //       , r = this.iconArr[n];
                    //     (r || r[0]) && (this.insert(t[0], this.getCaret(t[0]), "[" + r[0] + "]"),
                    //     "function" == typeof this.cb && this.cb())
                    // }
                },
                roundList: function() {
                    for (var t = this.iconArr.length / 20, e = "<ul class='round-wrapper'></ul>", n = e, i = 0; t > i; i++) {
                        var r = "class='roundListItem' data-num='" + i + "'";
                        0 == i && (r = "class='curr roundListItem' data-num='" + i + "'");
                        var a = "<li " + r + "></li>";
                        n = $(n).append(a)
                    }
                    return n
                },
                clickSlidePage: function() {
                    $(".roundListItem").on("click", function() {
                        var t = $(this);
                        t.siblings().removeClass("curr"),
                        t.addClass("curr");
                        var e = t.attr("data-num")
                          , n = $(".li-wrapper").eq(e);
                        n.show(),
                        n.siblings().hide()
                    })
                },
                slidePage: function() {
                    var t, e = $(".icon-wrapper"), n = $(".li-wrapper"), i = 0;
                    this.startX = t,
                    this.distance = i,
                    this.iconWrapper = e,
                    this.liWrapper = n;
                    var r = this;
                    e[0].addEventListener("touchstart", function(t) {
                        r.touchStart(t, r)
                    }, !1),
                    e[0].addEventListener("touchmove", function(t) {
                        r.touchMove(t, r)
                    }, !1),
                    e[0].addEventListener("touchend", function(t) {
                        r.touchEnd(t, r)
                    }, !1)
                },
                touchStart: function(t, e) {
                    var n = e
                      , i = t.touches[0];
                    n.startX = i.pageX
                },
                touchMove: function(t, e) {
                    t.preventDefault();
                    var n = e
                      , i = t.touches[0]
                      , r = i.pageX;
                    n.distance = r - n.startX;
                    document.body.clientWidth,
                    n.distance;
                    n.liWrapper.length == n.num + 1 && n.distance < 0 || 0 == n.num && n.distance > 0 || (n.iconWrapper[0].style.left = n.distance + n.left + "px")
                },
                touchEnd: function(t, e) {
                    var n = e
                      , i = document.body.clientWidth - 2 * n._margin
                      , r = $(".round-wrapper").children()
                      , a = n.distance;
                    n.distance < 0 && (a = -n.distance),
                    a >= i / 10 ? (n.distance < 0 && n.liWrapper.length != n.num + 1 ? ($(r[n.num]).removeClass("curr"),
                    n.num++,
                    n.iconWrapper.animate({
                        left: -(i * n.num) + "px"
                    }),
                    $(r[n.num]).addClass("curr")) : n.distance > 0 && 0 != n.num && ($(r[n.num]).removeClass("curr"),
                    n.num--,
                    n.iconWrapper.animate({
                        left: -(i * n.num) + "px"
                    }),
                    $(r[n.num]).addClass("curr")),
                    n.left = -(i * n.num)) : n.iconWrapper.animate({
                        left: n.left + "px"
                    }),
                    n.iconWrapper[0].style.transform = "translate(0px,0px)",
                    n.distance = 0
                },
                translateIcon: function(t) {
                    if (this.initArr(),
                    !t.match)
                        return text;
                    var e = /(\[([\u4e00-\u9fa5]|[a-z]|[A-Z])+\])/g
                      , n = t.match(e)
                      , i = this;
                    if (n)
                        for (var r = 0; r < n.length; r++) {
                            var a = n[r].split("[")
                              , s = n[r].split("]");
                            a.length > 0 && s.length > 0 && (n[r] = n[r].slice(1, n[r].length - 1));
                            for (var o = "[" + n[r] + "]", c = 0; c < i.iconArr.length; c++)
                                i.iconArr[c][0] == n[r] && (t = t.replace(o, "<img class='item-im' src='/thirdapp/forum/img/phizGif/" + i.iconArr[c][1] + ".gif'/>"))
                        }
                    return t
                }
            }
        }
    }
    , {}],
    3: [function(t, e, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        n.utils = {
            topicParse: function(t, e, n) {
                this.obj = e;
                var i = this
                  , r = 0
                  , a = "";
                return this.obj && this.obj.isHref && (a = "?isHref=true"),
                this.isHref = a,
                e && e.msgExtra && "MicroblogLong" === e.msgExtra.type && "用户主页" != n && (t = t.substring(0, t.lastIndexOf("#") + 1)),
                t && t.replace ? this.obj && 0 != this.obj.length && this.obj.networkId && this.obj.id && this.obj.msgExtra && "blueprint" === this.obj.msgExtra.type && t ? t.replace(/#(.*?)#/g, function(t, e) {
                    var n = "";
                    return i.typeId = n,
                    i.obj.typeId && (i.typeId = i.obj.typeId[r] ? "/" + i.obj.typeId[r] : "",
                    r++),
                    '<a  href="/thirdapp/forum/network/' + i.obj.networkId + "/" + i.obj.id + "/pictureZanDetail/" + i.obj.msgExtra.refId + '" class="topic">#' + e + "#</a>"
                }) : this.obj && 0 != this.obj.length && this.obj.networkId && this.obj.id && t ? t.replace(/#(.*?)#/g, function(t, e) {
                    var n = "";
                    return i.typeId = n,
                    i.obj.typeId && (i.typeId = i.obj.typeId[r] ? "/" + i.obj.typeId[r] : "",
                    r++),
                    '<a  href="/thirdapp/forum/' + i.obj.networkId + "/topic/" + encodeURIComponent(e) + "/" + i.obj.id + i.typeId + i.isHref + '" class="topic">#' + e + "#</a>"
                }) : t : (console.log("text is Error:", t),
                t)
            },
            linkParse: function(t) {
                if (!t)
                    return t;
                var e = /(http[s]?:\/\/[\w|!"#$%&'()*+,-.\/:;<=>?@[\]^_`{|}~]*)(?=[\s|\f]*)/g;
                return t.replace(e, '<a href="$&">$&</a>')
            },
            mentionParse: function(t, e, n) {
                this.networkId = n,
                this.id = e;
                var i = this;
                return t && this.id && this.networkId ? t.replace(/@\S+/g, function(t) {
                    if ("@all" == t)
                        return "@all";
                    var e = t.replace("@", "");
                    return '<a href="/thirdapp/forum/network/' + i.networkId + "/aiteProfile/" + encodeURIComponent(e) + "/" + i.id + '" title="' + t + '">' + t + "</a>"
                }) : t
            },
            phoneParse: function(t) {
                if (!t)
                    return t;
                var e = /(http|https|ftp|Http)\:\/\/[\.\-\_\/a-zA-Z0-9\~\?\%\#\=\@\:\&\;\*\+\!\(\)\{\}]+\b[\?\#\/\*\=]*/g
                  , n = /@\S+/g
                  , i = /#(.*?)#/g
                  , r = [];
                r.push(t.match(e), t.match(n), t.match(i)),
                t = t.replace(e, "a_1").replace(n, "a_2").replace(i, "a_3"),
                t = t.replace(/(((86)|(\+86))?1[3|5|7|8|][0-9]{9})/g, function(t) {
                    return '<a href="tel:' + t + '">' + t + "</a>"
                });
                for (var a = 0; a < r.length; a++)
                    if (null != r[a] && void 0 != r[a])
                        for (var s = 0; s < r[a].length; s++)
                            t = t.replace("a_" + (a + 1), r[a][s]);
                return t
            },
            fakePhoneParse: function(t) {
                if (!t)
                    return t;
                var e = /(http|https|ftp|Http)\:\/\/[\.\-\_\/a-zA-Z0-9\~\?\%\#\=\@\:\&\;\*\+\!\(\)\{\}]+\b[\?\#\/\*\=]*/g
                  , n = /@\S+/g
                  , i = /#(.*?)#/g
                  , r = [];
                r.push(t.match(e), t.match(n), t.match(i)),
                t = t.replace(e, "a_1").replace(n, "a_2").replace(i, "a_3"),
                t = t.replace(/(((86)|(\+86))?1[3|5|7|8|][0-9]{9})|(([0-9]{3,4}-){0,2}[0-9]{3,12})/g, function(t) {
                    return '<a href="tel:' + t + '">' + t + "</a>"
                });
                for (var a = 0; a < r.length; a++)
                    if (null != r[a] && void 0 != r[a])
                        for (var s = 0; s < r[a].length; s++)
                            t = t.replace("a_" + (a + 1), r[a][s]);
                return t
            },
            showFormat: function(t, e) {
                if (t) {
                    var n = new Date
                      , t = new Date(t)
                      , i = t.getFullYear()
                      , r = t.getMonth() < 9 ? "0" + parseInt(t.getMonth() + 1) : t.getMonth() + 1
                      , a = t.getDate() < 10 ? "0" + t.getDate() : t.getDate()
                      , s = t.getHours() < 10 ? "0" + t.getHours() : t.getHours()
                      , o = t.getMinutes() < 10 ? "0" + t.getMinutes() : t.getMinutes()
                      , c = t.getSeconds() < 10 ? "0" + t.getSeconds() : t.getSeconds()
                      , u = new Date(n).getFullYear()
                      , p = parseInt(n.getMonth()) + 1
                      , l = n.getDate()
                      , d = parseInt(n.getHours())
                      , h = n.getMinutes()
                      , g = n.getSeconds()
                      , f = !1
                      , m = 0;
                    if (e) {
                        var v = 0
                          , b = 0;
                        if (u > i)
                            return "投票已截止";
                        var w = i % 400 == 0 || i % 4 == 0 && i % 100 != 0
                          , y = u % 400 == 0 || u % 4 == 0 && u % 100 != 0
                          , x = 0
                          , $ = {
                            1: x = 31,
                            2: x = 28,
                            3: x = 31,
                            4: x = 30,
                            5: x = 31,
                            6: x = 30,
                            7: x = 31,
                            8: x = 31,
                            9: x = 30,
                            10: x = 31,
                            11: x = 30,
                            12: x = 31
                        }
                          , I = 0
                          , S = 0
                          , k = 365 * (i - u) + (v - b);
                        if (parseInt(r) != parseInt(p)) {
                            for (var T = 1; T < parseInt(r); T++)
                                2 == T && w && (I += 1),
                                I += $[T];
                            for (var T = 1; T < parseInt(p); T++)
                                2 == T && y && (S += 1),
                                S += $[T]
                        }
                        m = k + (I - S) + (a - l),
                        0 != m && m++;
                        var j = s - d
                          , C = parseInt((60 * (60 * parseInt(s) + parseInt(o)) + c - (60 * (60 * parseInt(d) + parseInt(h)) + g)) / 60)
                          , A = c - g;
                        return 0 > m ? "已截止" : m > 0 ? "" + m + "天" : 0 == m && C > 60 ? "" + j + "小时" : 0 == m && C > 0 && 60 > C ? "" + C + "分钟" : 0 == m && 0 >= C && A > 0 ? "" + A + "秒" : "已截止"
                    }
                    if ((d - parseInt(t.getHours()) == 1 && o > h || d - parseInt(t.getHours()) == 0) && (f = !0),
                    u > i)
                        return i + "-" + r + "-" + a + " " + s + ":" + o;
                    if (i == u && p > r || l > a)
                        return r + "-" + a + " " + s + ":" + o;
                    if (i != u || r != p || a != l || f) {
                        if (i == u && r == p && a == l && f) {
                            if (s == d && h == o) {
                                {
                                    parseInt(g) - parseInt(c) <= 0 ? 1 : parseInt(g) - parseInt(c)
                                }
                                return "刚刚"
                            }
                            var z = 60 * parseInt(s) + parseInt(o)
                              , M = 60 * d + parseInt(h);
                            return 0 > M - z || M - z == 0 ? "1分钟前" : M - z + "分钟前"
                        }
                        return " "
                    }
                    var D = parseInt(d - s);
                    return D && 24 > D ? s + ":" + o : "1小时前"
                }
                return " "
            },
            contentCut: function(t, e) {
                var n = t;
                if (!n)
                    return n;
                var i = n.split("\n");
                if (i.length >= 6 && !e) {
                    for (var r = 0, a = 0; 6 > a; a++)
                        r += i[a].length;
                    n = t.slice(0, r + 5)
                }
                if (t.length > 140 && !e) {
                    t = t.substring(0, 140);
                    var s = /(\[([\u4e00-\u9fa5]|[a-z]|[A-Z])+\])/g;
                    t = t.replace(s, "");
                    var o = /\[/g
                      , c = t.match(o);
                    if (c && 0 != c.length) {
                        var u = t.indexOf(c[c.length - 1])
                          , p = t.substring(u, t.length).length;
                        return n.substring(0, 140 - p) + "..."
                    }
                    return n.substring(0, 140) + "..."
                }
                return i.length >= 6 && !e ? n + "..." : n
            },
            dateFormat: function(t, e) {
                if (t && e) {
                    var n = t.getFullYear()
                      , i = t.getMonth() < 9 ? "0" + parseInt(t.getMonth() + 1) : t.getMonth() + 1
                      , r = t.getDate() < 10 ? "0" + t.getDate() : t.getDate()
                      , a = t.getHours() < 10 ? "0" + t.getHours() : t.getHours()
                      , s = t.getMinutes() < 10 ? "0" + t.getMinutes() : t.getMinutes()
                      , o = t.getSeconds() < 10 ? "0" + t.getSeconds() : t.getSeconds();
                    switch (e) {
                    case "月日":
                        return t.getMonth() + 1 + "月" + t.getDate() + "日";
                    case "月日 h:m":
                        return t.getMonth() + 1 + "月" + t.getDate() + "日 " + a + ":" + s;
                    case "yy-mm-dd h:m:s":
                        return n + "-" + i + "-" + r + " " + a + ":" + s + ":" + o;
                    case "yy-mm-dd h:m":
                        return n + "-" + i + "-" + r + " " + a + ":" + s;
                    case "yy-mm-dd":
                        return n + "-" + i + "-" + r;
                    case "mm-dd h:m":
                        return i + "-" + r + " " + a + ":" + s;
                    case "mm-dd":
                        return i + "-" + r;
                    case "h:m":
                        return a + ":" + s
                    }
                }
            },
            delHtml: function(t) {
                return t ? t.replace(/<[^>]+>/g, "") : t
            },
            mbSource: function i(t) {
                var i = "";
                switch (t) {
                case "qing":
                    i = "意见反馈";
                    break;
                case "senduser":
                    i = "部落意见反馈";
                    break;
                case "aliapp":
                    i = "支付宝服务窗";
                    break;
                case "micromessenger":
                    i = "微信公众号"
                }
                return i
            },
            translateDate: function(t) {
                var e = new Date(t.startDate)
                  , n = new Date(t.endDate)
                  , i = void 0
                  , r = void 0;
                return i = e.getFullYear() + "/" + (e.getMonth() + 1) + "/" + e.getDate(),
                r = n.getFullYear() + "/" + (n.getMonth() + 1) + "/" + n.getDate(),
                {
                    beginDate: i,
                    endDate: r
                }
            }
        }
    }
    , {}]
}, {}, [1]);
